<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Studi Kasus & Kuis Interaktif: Rhinitis</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; background-color: #f8fafc; color: #334155; }
        .chart-container { position: relative; height: 350px; width: 100%; max-width: 800px; margin-left: auto; margin-right: auto; }
        .viz-icon { width: 80px; height: 80px; display: flex; align-items: center; justify-content: center; flex-shrink: 0; border-radius: 0.75rem; }
        .nav-button-active { background-color: #047857; color: #ffffff; font-weight: 600; }
        .nav-button-inactive { background-color: #ecfdf5; color: #064e3b; border: 1px solid #d1fae5; }
        .option-btn { transition: background-color 0.3s, border-color 0.3s, color 0.3s; }
        .option-btn:hover { background-color: #d1fae5; border-color: #10b981; }
        .option-btn.selected { background-color: #10b981; color: white; border-color: #059669; }
        .option-btn.correct { background-color: #34d399; color: white; border-color: #10b981; }
        .option-btn.incorrect { background-color: #f87171; color: white; border-color: #ef4444; }
    </style>
</head>
<body class="bg-slate-50 text-slate-700">

    <main class="container mx-auto p-4 sm:p-6 md:p-8 max-w-5xl">

        <header class="text-center mb-10">
            <h1 class="text-3xl md:text-4xl font-bold text-emerald-800">Menganalisis Kasus Gangguan Hidung</h1>
            <p class="mt-2 text-lg text-slate-600">Alat bantu interaktif untuk memahami diagnosis banding pada kasus rhinitis.</p>
        </header>

        <section id="case-summary" class="mb-12 bg-white p-6 rounded-xl shadow-lg border border-slate-200">
            <h2 class="text-2xl font-semibold text-emerald-700 mb-4">Ringkasan Kasus</h2>
            <div class="grid md:grid-cols-3 gap-6 text-center">
                <div class="bg-emerald-50 p-4 rounded-lg border border-emerald-100"><p class="text-sm text-emerald-800 font-medium">Keluhan Utama</p><p class="text-xl font-bold text-emerald-900">Hidung Tersumbat</p></div>
                <div class="bg-emerald-50 p-4 rounded-lg border border-emerald-100"><p class="text-sm text-emerald-800 font-medium">Sifat Keluhan</p><p class="text-xl font-bold text-emerald-900">Satu Sisi, Bergantian</p></div>
                <div class="bg-emerald-50 p-4 rounded-lg border border-emerald-100"><p class="text-sm text-emerald-800 font-medium">Durasi</p><p class="text-xl font-bold text-emerald-900">10 Hari</p></div>
            </div>
            <div class="mt-6 bg-slate-100 p-4 rounded-lg">
                <h3 class="font-semibold text-slate-800">Detail Anamnesis:</h3>
                <ul class="list-disc list-inside text-slate-600 mt-2 space-y-1">
                    <li>Hidung tersumbat bergantian kiri dan kanan, tergantung posisi tidur.</li>
                    <li>Keluar ingus, kadang sedikit kental.</li>
                    <li>Jarang disertai bersin.</li>
                    <li>Tidak disertai gatal pada mata.</li>
                    <li>Pasien tidak memiliki riwayat alergi di keluarga.</li>
                </ul>
            </div>
        </section>

        <section id="differential-diagnosis" class="mb-12">
            <h2 class="text-2xl font-semibold text-emerald-700 mb-2 text-center">Jelajahi Diagnosis Banding</h2>
            <p class="text-center text-slate-600 mb-6">Klik pada setiap diagnosis untuk melihat detail dan analisis kecocokannya dengan kasus.</p>
            <nav id="diagnosis-nav" class="flex flex-wrap justify-center gap-2 mb-8"></nav>
            <div id="diagnosis-details"></div>
        </section>
        
        <section id="comparison-chart" class="mb-12 bg-white p-6 rounded-xl shadow-lg border border-slate-200">
            <h2 class="text-2xl font-semibold text-emerald-700 mb-1 text-center">Perbandingan Diagnosis</h2>
            <p class="text-center text-sm text-slate-500 mb-6">Visualisasi tingkat kecocokan berdasarkan analisis klinis. Klik bar untuk detail.</p>
            <div class="chart-container"><canvas id="matchChart"></canvas></div>
        </section>

        <section id="conclusion" class="bg-emerald-50 border-2 border-emerald-500 rounded-xl p-6 shadow-lg">
            <h2 class="text-2xl font-bold text-emerald-800 mb-4">Kesimpulan Diagnosis</h2>
            <div class="flex flex-col md:flex-row items-center gap-6">
                <div class="viz-icon bg-blue-200"><div class="w-12 h-12 bg-blue-400 rounded-full flex items-center justify-center text-3xl">üõå</div></div>
                <div class="flex-1">
                    <p class="text-3xl font-bold text-emerald-900">Rhinitis Vasomotor</p>
                    <p class="mt-2 text-emerald-700">Diagnosis yang paling tepat adalah Rhinitis Vasomotor. Ini didasarkan pada gejala patognomonik (sangat khas) yaitu hidung tersumbat yang berpindah sisi tergantung posisi tubuh. Tidak adanya gejala alergi yang signifikan (gatal, bersin hebat) semakin memperkuat diagnosis ini.</p>
                </div>
            </div>
        </section>

        <hr class="my-16 border-slate-300">

        <section id="quiz-section" class="flex items-center justify-center">
             <div id="quiz-container" class="bg-white w-full max-w-2xl rounded-xl shadow-2xl p-6 md:p-8">
                
                <div id="quiz-header">
                     <h1 class="text-2xl md:text-3xl font-bold text-emerald-800 text-center">Kuis Kasus Rhinitis</h1>
                     <p class="text-slate-500 text-center mt-2">Uji pemahaman Anda tentang kasus yang disajikan.</p>
                     <div class="h-1 bg-slate-200 rounded-full mt-6">
                         <div id="progress-bar" class="h-full bg-emerald-500 rounded-full transition-all duration-500" style="width: 0%;"></div>
                     </div>
                 </div>

                 <div id="quiz-body" class="mt-8">
                    <div class="text-center p-4 text-slate-400">
                        <p>Memuat kuis...</p>
                    </div>
                 </div>

                 <div id="quiz-footer" class="mt-8 flex justify-between items-center">
                     <p id="question-counter" class="text-sm font-medium text-slate-500"></p>
                     <button id="next-btn" class="bg-emerald-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-emerald-700 transition-colors disabled:bg-slate-300 disabled:cursor-not-allowed">Selanjutnya</button>
                 </div>
                 
                 <div id="result-container" class="hidden text-center mt-8">
                     <h2 class="text-2xl font-bold text-emerald-800">Kuis Selesai!</h2>
                     <p class="text-lg text-slate-600 mt-2">Skor Akhir Anda:</p>
                     <p id="score-text" class="text-5xl font-bold text-emerald-600 my-4">0/0</p>
                     <p id="feedback-text" class="text-slate-500 mb-6"></p>
                     <button id="restart-btn" class="bg-emerald-600 text-white font-bold py-2 px-8 rounded-lg hover:bg-emerald-700 transition-colors">Ulangi Kuis</button>
                 </div>
             </div>
        </section>

    </main>

    <footer class="text-center mt-20 pt-10 border-t border-slate-200 bg-white">
        <div class="container mx-auto px-6 pb-8">
            <div class="mb-8">
                <p class="font-bold text-red-600">DISCLAIMER</p>
                <p class="text-sm text-slate-600 max-w-2xl mx-auto">Aplikasi ini adalah alat bantu belajar untuk profesional medis dan mahasiswa. Informasi ini tidak menggantikan penilaian klinis, diagnosis, atau perawatan oleh tenaga kesehatan yang berkualifikasi.</p>
            </div>
            
            <div class="mt-8 pt-8 border-t border-slate-200">
                 <p class="text-base font-semibold text-slate-800">dr. Rikki F. Sababalat</p>
                 <p class="text-sm text-slate-500 mt-1">Konten Edukasi Medis</p>
                 
                 <div class="flex justify-center items-center space-x-6 my-4">
                     <a href="https://instagram.com/nama_pengguna" target="_blank" rel="noopener noreferrer" class="text-slate-500 hover:text-emerald-600 transition-colors" aria-label="Instagram">
                        <svg class="w-6 h-6" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072s3.668-.014 4.948-.072c4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948s-.014-3.667-.072-4.947c-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.689-.073-4.948-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.162 6.162 6.162 6.162-2.759 6.162-6.162-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4s1.791-4 4-4 4 1.79 4 4-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44 1.441-.645 1.441-1.44-.645-1.44-1.441-1.44z"/></svg>
                     </a>
                     <a href="https://youtube.com/channel/nama_channel" target="_blank" rel="noopener noreferrer" class="text-slate-500 hover:text-emerald-600 transition-colors" aria-label="YouTube">
                        <svg class="w-7 h-7" viewBox="0 0 24 24" fill="currentColor"><path d="M19.615 3.184c-3.604-.246-11.631-.245-15.23 0-3.897.266-4.356 2.62-4.385 8.816.029 6.185.484 8.549 4.385 8.816 3.6.245 11.626.246 15.23 0 3.897-.266 4.356-2.62 4.385-8.816-.029-6.185-.484-8.549-4.385-8.816zm-10.615 12.816v-8l8 3.993-8 4.007z"/></svg>
                     </a>
                 </div>

                 <p class="text-xs text-slate-400 mt-8">&copy; 2025 Rikki F. Sababalat. All Rights Reserved.</p>
            </div>
        </div>
    </footer>


    <script>
        // --- DATA UNTUK ALAT DIAGNOSIS ---
        const diagnoses = [
            { id: 'rhinitis-vasomotor', name: 'Rhinitis Vasomotor', matchScore: 9, vizIconHtml: `<div class="viz-icon bg-blue-200"><div class="w-12 h-12 bg-blue-400 rounded-full flex items-center justify-center text-3xl">üõå</div></div>`, description: 'Kondisi hidung tersumbat non-alergi dan non-infeksi akibat pelebaran pembuluh darah hidung.', analysis: 'SANGAT SESUAI. Gejala khas hidung tersumbat yang berpindah sisi tergantung posisi tidur (gravitasional) adalah tanda patognomonik. Tidak adanya gejala alergi (gatal, bersin hebat) dan riwayat alergi keluarga negatif memperkuat diagnosis ini.' },
            { id: 'rhinitis-akut', name: 'Rhinitis Akut', matchScore: 5, vizIconHtml: `<div class="viz-icon bg-red-100"><div class="w-12 h-12 bg-red-300 rounded-full flex items-center justify-center text-3xl">ü§ß</div></div>`, description: 'Peradangan pada mukosa hidung karena infeksi virus (common cold), berlangsung < 4 minggu.', analysis: 'CUKUP SESUAI. Durasi 10 hari cocok untuk fase akut. Namun, pola sumbatan yang sangat dipengaruhi posisi lebih khas untuk vasomotor, dan gejala infeksi lain (demam, sakit tenggorokan) tidak dilaporkan.' },
            { id: 'rhinitis-alergi', name: 'Rhinitis Alergi', matchScore: 2, vizIconHtml: `<div class="viz-icon bg-yellow-100"><div class="w-12 h-12 bg-yellow-300 rounded-full flex items-center justify-center text-3xl">üåº</div></div>`, description: 'Peradangan hidung yang dimediasi oleh IgE setelah paparan alergen.', analysis: 'TIDAK SESUAI. Gejala kunci rhinitis alergi seperti gatal-gatal pada mata/hidung dan serangan bersin tidak ada pada pasien ini. Riwayat alergi keluarga yang negatif juga menentang diagnosis ini.' },
            { id: 'rhinitis-sika', name: 'Rhinitis Sika', matchScore: 1, vizIconHtml: `<div class="viz-icon bg-stone-200"><div class="w-12 h-12 bg-stone-400 rounded-full flex items-center justify-center text-3xl">üèúÔ∏è</div></div>`, description: 'Bentuk rhinitis atrofi yang ditandai dengan mukosa hidung kering dan pembentukan krusta (kerak).', analysis: 'TIDAK SESUAI. Pasien mengeluhkan adanya ingus (sekresi), bukan hidung yang kering dan berkerak. Gejalanya berlawanan dengan rhinitis sika.' },
            { id: 'laryngitis-akut', name: 'Laryngitis Akut', matchScore: 0, vizIconHtml: `<div class="viz-icon bg-orange-100"><div class="w-12 h-12 bg-orange-300 rounded-full flex items-center justify-center text-3xl">üó£Ô∏è</div></div>`, description: 'Peradangan pada laring (pita suara) yang menyebabkan suara serak.', analysis: 'SANGAT TIDAK SESUAI. Keluhan utama pasien terpusat pada hidung (sumbatan, ingus). Tidak ada keluhan suara serak atau gangguan pada pita suara yang dilaporkan.' }
        ];

        // --- DATA UNTUK KUIS INTERAKTIF ---
        // (Semua pertanyaan dan jawaban untuk kuis disimpan di sini)
        const quizData = [
            { question: "Apa gejala paling khas yang mengarahkan pada diagnosis utama dalam kasus ini?", options: ["Ingus sedikit kental", "Jarang bersin", "Sumbatan hidung berpindah sesuai posisi tidur", "Durasi 10 hari"], answer: "Sumbatan hidung berpindah sesuai posisi tidur" },
            { question: "Mengapa Rhinitis Alergi kemungkinan besar dapat disingkirkan sebagai diagnosis?", options: ["Karena durasinya singkat", "Karena tidak ada gatal pada mata dan riwayat alergi negatif", "Karena ingusnya kental", "Karena terjadi pada orang dewasa"], answer: "Karena tidak ada gatal pada mata dan riwayat alergi negatif" },
            { question: "Diagnosis mana yang berhubungan dengan suara serak dan paling tidak relevan untuk kasus ini?", options: ["Rhinitis Akut", "Rhinitis Vasomotor", "Rhinitis Sika", "Laryngitis Akut"], answer: "Laryngitis Akut" },
            { question: "Gejala 'hidung tersumbat satu sisi, bergantian' menunjukkan adanya gangguan pada...", options: ["Respon imun terhadap alergen", "Infeksi virus di hidung", "Regulasi pembuluh darah (vaskular) hidung", "Kekeringan mukosa hidung"], answer: "Regulasi pembuluh darah (vaskular) hidung" },
            { question: "Berdasarkan keseluruhan analisis, diagnosis yang paling mungkin untuk pasien ini adalah...", options: ["Rhinitis Alergi", "Rhinitis Akut", "Rhinitis Vasomotor", "Rhinitis Sika"], answer: "Rhinitis Vasomotor" }
        ];

        // --- FUNGSI-FUNGSI UTAMA ---
        window.onload = () => {
            // Inisialisasi Alat Diagnosis
            const navContainer = document.getElementById('diagnosis-nav');
            const detailsContainer = document.getElementById('diagnosis-details');
            let chart = null;

            function renderDetails(diagnosisId) {
                const diagnosis = diagnoses.find(d => d.id === diagnosisId);
                if (!diagnosis) return;
                detailsContainer.innerHTML = `<div class="bg-white p-6 rounded-xl shadow-lg border border-slate-200 transition-all duration-300 ease-in-out"><div class="flex flex-col md:flex-row items-center gap-6">${diagnosis.vizIconHtml}<div class="flex-1 text-center md:text-left"><h3 class="text-2xl font-bold text-emerald-800">${diagnosis.name}</h3><p class="text-slate-600 mt-1">${diagnosis.description}</p></div></div><div class="mt-4 pt-4 border-t border-slate-200"><h4 class="font-semibold text-slate-700">Analisis Kecocokan dengan Kasus:</h4><p class="text-slate-600 mt-1">${diagnosis.analysis}</p></div></div>`;
                document.querySelectorAll('#diagnosis-nav button').forEach(btn => {
                    btn.classList.toggle('nav-button-active', btn.dataset.id === diagnosisId);
                    btn.classList.toggle('nav-button-inactive', btn.dataset.id !== diagnosisId);
                });
            }

            function createNav() {
                diagnoses.forEach(diagnosis => {
                    const button = document.createElement('button');
                    button.textContent = diagnosis.name;
                    button.dataset.id = diagnosis.id;
                    button.className = 'px-4 py-2 rounded-lg text-sm font-medium transition-colors duration-200 nav-button-inactive';
                    button.onclick = () => renderDetails(diagnosis.id);
                    navContainer.appendChild(button);
                });
            }

            function createChart() {
                const ctx = document.getElementById('matchChart').getContext('2d');
                if(chart) { chart.destroy(); }
                chart = new Chart(ctx, { type: 'bar', data: { labels: diagnoses.map(d => d.name), datasets: [{ label: 'Tingkat Kecocokan', data: diagnoses.map(d => d.matchScore), backgroundColor: diagnoses.map(d => d.matchScore >= 8 ? '#059669' : (d.matchScore >= 4 ? '#34d399' : '#a7f3d0')), borderColor: diagnoses.map(d => d.matchScore >= 8 ? '#065f46' : (d.matchScore >= 4 ? '#059669' : '#6ee7b7')), borderWidth: 1, borderRadius: 4 }] }, options: { responsive: true, maintainAspectRatio: false, indexAxis: 'y', scales: { x: { beginAtZero: true, max: 10, title: { display: true, text: 'Skor Kecocokan (0-10)', font: { size: 14 } } }, y: { ticks: { font: { size: 12 } } } }, plugins: { legend: { display: false }, tooltip: { callbacks: { label: (context) => ` Skor: ${context.parsed.x}` } } }, onClick: (event, elements) => { if (elements.length > 0) { const chartElement = elements[0]; const diagnosisId = diagnoses[chartElement.index].id; renderDetails(diagnosisId); document.getElementById('differential-diagnosis').scrollIntoView({ behavior: 'smooth', block: 'center' }); } } } });
            }
            
            createNav();
            renderDetails('rhinitis-vasomotor');
            createChart();

            // Inisialisasi Kuis
            const quizBody = document.getElementById('quiz-body');
            const nextBtn = document.getElementById('next-btn');
            const restartBtn = document.getElementById('restart-btn');
            const resultContainer = document.getElementById('result-container');
            const questionCounter = document.getElementById('question-counter');
            const progressBar = document.getElementById('progress-bar');
            const scoreText = document.getElementById('score-text');
            const feedbackText = document.getElementById('feedback-text');
            let currentQuestionIndex = 0;
            let score = 0;
            let selectedAnswer = null;

            function loadQuiz() {
                currentQuestionIndex = 0;
                score = 0;
                resultContainer.classList.add('hidden');
                document.getElementById('quiz-header').classList.remove('hidden');
                document.getElementById('quiz-footer').classList.remove('hidden');
                quizBody.classList.remove('hidden');
                loadQuestion();
            }

            function loadQuestion() {
                selectedAnswer = null;
                nextBtn.disabled = true;
                const currentQuestion = quizData[currentQuestionIndex];
                quizBody.innerHTML = `<h2 class="text-xl font-semibold text-slate-800 mb-6">${currentQuestion.question}</h2><div id="options-container" class="space-y-3">${currentQuestion.options.map(option => `<button class="option-btn w-full text-left p-4 border-2 border-slate-200 rounded-lg text-slate-700 font-medium">${option}</button>`).join('')}</div>`;
                updateProgress();
                document.querySelectorAll('.option-btn').forEach(button => {
                    button.addEventListener('click', () => {
                        document.querySelectorAll('.option-btn').forEach(btn => btn.classList.remove('selected'));
                        button.classList.add('selected');
                        selectedAnswer = button.textContent.trim();
                        nextBtn.disabled = false;
                    });
                });
            }
            
            function updateProgress() {
                questionCounter.textContent = `Pertanyaan ${currentQuestionIndex + 1} dari ${quizData.length}`;
                progressBar.style.width = `${((currentQuestionIndex) / quizData.length) * 100}%`;
            }

            function showResults() {
                progressBar.style.width = '100%';
                quizBody.classList.add('hidden');
                document.getElementById('quiz-header').classList.add('hidden');
                document.getElementById('quiz-footer').classList.add('hidden');
                resultContainer.classList.remove('hidden');
                scoreText.textContent = `${score}/${quizData.length}`;
                const percentage = (score / quizData.length) * 100;
                if (percentage < 50) { feedbackText.textContent = "Mungkin perlu meninjau kembali materinya."; } 
                else if (percentage < 80) { feedbackText.textContent = "Pemahaman yang baik!"; } 
                else { feedbackText.textContent = "Pemahaman yang luar biasa!"; }
            }

            nextBtn.addEventListener('click', () => {
                if (selectedAnswer === null) return;
                if (selectedAnswer === quizData[currentQuestionIndex].answer) { score++; }
                currentQuestionIndex++;
                if (currentQuestionIndex < quizData.length) { loadQuestion(); } else { showResults(); }
            });

            restartBtn.addEventListener('click', loadQuiz);
            
            loadQuiz(); // Mulai kuis saat halaman dimuat
        };
    </script>
</body>
</html>