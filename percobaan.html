<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Studi Kasus & Kuis Interaktif: Rhinosinusitis Akut</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8fafc; /* bg-slate-50 */
            color: #334155; /* text-slate-700 */
        }
        .chart-container {
            position: relative;
            height: 350px;
            width: 100%;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
        }
        .viz-icon {
            width: 80px;
            height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
            border-radius: 0.75rem; /* rounded-xl */
        }
        .nav-button-active {
            background-color: #047857; /* bg-emerald-700 */
            color: #ffffff;
            font-weight: 600;
        }
        .nav-button-inactive {
            background-color: #ecfdf5; /* bg-emerald-50 */
            color: #064e3b; /* text-emerald-900 */
            border: 1px solid #d1fae5; /* border-emerald-200 */
        }
        .option-btn {
            transition: background-color 0.3s, border-color 0.3s, color 0.3s;
            cursor: pointer;
        }
        .option-btn:hover:not([disabled]) {
            background-color: #d1fae5; /* hover:bg-emerald-100 */
            border-color: #10b981; /* hover:border-emerald-500 */
        }
        .option-btn.correct {
            background-color: #34d399; /* bg-emerald-400 */
            color: white;
            border-color: #10b981;
        }
        .option-btn.incorrect {
            background-color: #f87171; /* bg-red-400 */
            color: white;
            border-color: #ef4444;
        }
        .option-btn:disabled {
            cursor: not-allowed;
        }
        /* Style untuk timer yang hampir habis */
        .less-time {
            color: #ef4444; /* text-red-500 */
            font-weight: 700;
        }
    </style>
</head>
<body class="bg-slate-50 text-slate-700">

    <main class="container mx-auto p-4 sm:p-6 md:p-8 max-w-5xl">

        <nav class="flex justify-between items-center mb-8">
            <a href="nama-modul.html" class="inline-flex items-center text-emerald-700 hover:text-emerald-900 font-semibold transition-colors">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor">
                <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd" />
                </svg>
                Kembali ke Daftar Kasus
            </a>
            <a href="index.html" class="inline-flex items-center text-sm text-slate-500 hover:text-emerald-700 font-medium transition-colors">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6" />
                </svg>
                Halaman Utama
            </a>
        </nav>

        <header class="text-center mb-10">
            <h1 class="text-3xl md:text-4xl font-bold text-emerald-800">Menganalisis Kasus Gangguan Hidung & Sinus</h1>
            <p class="mt-2 text-lg text-slate-600">Alat bantu interaktif untuk memahami diagnosis banding.</p>
        </header>

        <section id="case-summary" class="mb-12 bg-white p-6 rounded-xl shadow-lg border border-slate-200">
            <h2 class="text-2xl font-semibold text-emerald-700 mb-4">Ringkasan Kasus</h2>
            <div class="grid md:grid-cols-3 gap-6 text-center">
                <div class="bg-emerald-50 p-4 rounded-lg border border-emerald-100">
                    <p class="text-sm text-emerald-800 font-medium">Pasien</p>
                    <p class="text-xl font-bold text-emerald-900">Laki-laki, 35 Tahun</p>
                </div>
                <div class="bg-emerald-50 p-4 rounded-lg border border-emerald-100">
                    <p class="text-sm text-emerald-800 font-medium">Keluhan Utama</p>
                    <p class="text-xl font-bold text-emerald-900">Pilek & Nyeri Wajah</p>
                </div>
                <div class="bg-emerald-50 p-4 rounded-lg border border-emerald-100">
                    <p class="text-sm text-emerald-800 font-medium">Durasi</p>
                    <p class="text-xl font-bold text-emerald-900">2 Minggu</p>
                </div>
            </div>
            <div class="mt-6 bg-slate-100 p-4 rounded-lg">
                <h3 class="font-semibold text-slate-800">Temuan Pemeriksaan Fisik:</h3>
                <ul class="list-disc list-inside text-slate-600 mt-2 space-y-1">
                    <li>Konka hidung hiperemis (merah dan bengkak).</li>
                    <li>Sekret mukopurulen di meatus media.</li>
                    <li>Nyeri saat wajah diketuk di area sinus.</li>
                    <li>Gejala penyerta: Demam, batuk, tenggorok berlendir.</li>
                </ul>
            </div>
        </section>

        <section id="differential-diagnosis" class="mb-12">
            <h2 class="text-2xl font-semibold text-emerald-700 mb-2 text-center">Diagnosis Banding</h2>
            <p class="text-center text-slate-600 mb-6">Klik pada setiap diagnosis banding untuk melihat detail analisisnya.</p>
            <nav id="diagnosis-nav" class="flex flex-wrap justify-center gap-2 mb-8"></nav>
            <div id="diagnosis-details"></div>
        </section>
        
        <section id="comparison-chart" class="mb-12 bg-white p-6 rounded-xl shadow-lg border border-slate-200">
            <h2 class="text-2xl font-semibold text-emerald-700 mb-1 text-center">Perbandingan Diagnosis</h2>
            <p class="text-center text-sm text-slate-500 mb-6">Visualisasi tingkat kecocokan berdasarkan analisis klinis.</p>
            <div class="chart-container">
                <canvas id="matchChart"></canvas>
            </div>
        </section>

        <section id="conclusion" class="bg-emerald-50 border-2 border-emerald-500 rounded-xl p-6 shadow-lg">
            <h2 class="text-2xl font-bold text-emerald-800 mb-4">Kesimpulan Diagnosis</h2>
            <div class="flex flex-col md:flex-row items-center gap-6">
                <div class="viz-icon bg-red-200">
                    <div class="w-12 h-12 bg-red-400 rounded-full flex items-center justify-center text-3xl">ðŸ¤’</div>
                </div>
                <div class="flex-1">
                    <p class="text-3xl font-bold text-emerald-900">Rhinosinusitis Akut</p>
                    <p class="mt-2 text-emerald-700">Diagnosis yang paling tepat adalah Rhinosinusitis Akut, didasarkan pada kombinasi gejala kunci: durasi >10 hari, sekret mukopurulen, dan nyeri tekan pada wajah.</p>
                </div>
            </div>
        </section>

        <hr class="my-16 border-slate-300">

        <section id="quiz-section" class="flex items-center justify-center">
            <div class="bg-white w-full max-w-3xl rounded-xl shadow-2xl p-6 md:p-8">
                
                <div id="quiz-home-box" class="text-center">
                    <h1 class="text-2xl md:text-3xl font-bold text-emerald-800">Kuis Kasus Rhinosinusitis</h1>
                    <p id="time-limit-text" class="text-slate-500 mt-4 max-w-md mx-auto"></p>
                    <button id="start-quiz-btn" class="mt-8 bg-emerald-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-emerald-700 transition-colors shadow-lg">Mulai Kuis</button>
                </div>

                <div id="quiz-box" class="hidden">
                    <div class="flex justify-between items-center border-b border-slate-200 pb-4 mb-6">
                        <div id="question-counter" class="text-sm font-medium text-slate-500"></div>
                        <div class="flex items-center gap-4">
                            <div id="score-board" class="text-sm font-medium text-slate-600">
                                Skor: <span id="correct-answers" class="font-bold text-emerald-600">0</span>
                            </div>
                            <div class="text-sm font-medium text-slate-600">
                                Waktu: <span id="remaining-time" class="font-bold w-6 inline-block text-center"></span>s
                            </div>
                        </div>
                    </div>
                    
                    <h2 id="question-text" class="text-xl font-semibold text-slate-800 mb-6"></h2>

                    <div id="options-container" class="space-y-3"></div>
                    
                    <p id="time-up-text" class="hidden text-center font-bold text-red-500 mt-4">Waktu Habis!</p>

                    <div class="text-right mt-8">
                        <button id="next-question-btn" class="hidden bg-emerald-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-emerald-700 transition-colors">Selanjutnya</button>
                        <button id="see-result-btn" class="hidden bg-emerald-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-emerald-700 transition-colors">Lihat Hasil</button>
                    </div>
                </div>

                <div id="quiz-over-box" class="hidden text-center">
                     <h1 class="text-2xl md:text-3xl font-bold text-emerald-800">Hasil Kuis</h1>
                     <div class="mt-6 bg-slate-50 rounded-lg p-6 grid grid-cols-2 md:grid-cols-3 gap-4 text-left">
                         <div class="p-3">
                            <p class="text-sm text-slate-500">Total Soal</p>
                            <p id="total-questions" class="text-2xl font-bold text-emerald-800"></p>
                         </div>
                         <div class="p-3">
                            <p class="text-sm text-slate-500">Dijawab</p>
                            <p id="total-attempt" class="text-2xl font-bold text-emerald-800"></p>
                         </div>
                         <div class="p-3">
                            <p class="text-sm text-slate-500">Benar</p>
                            <p id="total-correct" class="text-2xl font-bold text-green-600"></p>
                         </div>
                         <div class="p-3">
                            <p class="text-sm text-slate-500">Salah</p>
                            <p id="total-wrong" class="text-2xl font-bold text-red-500"></p>
                         </div>
                         <div class="col-span-2 md:col-span-1 p-3 bg-emerald-100 rounded-lg">
                            <p class="text-sm text-emerald-900">Persentase Benar</p>
                            <p id="percentage" class="text-3xl font-bold text-emerald-700"></p>
                         </div>
                     </div>
                     <div class="mt-8 flex justify-center gap-4">
                         <button id="start-again-btn" class="bg-emerald-600 text-white font-bold py-2 px-8 rounded-lg hover:bg-emerald-700 transition-colors">Ulangi Kuis</button>
                         <button id="go-home-btn" class="bg-slate-200 text-slate-800 font-bold py-2 px-8 rounded-lg hover:bg-slate-300 transition-colors">Selesai</button>
                     </div>
                </div>

            </div>
        </section>


        <section class="mt-16 text-center">
            <a href="kasus-selanjutnya.html" class="inline-flex items-center bg-emerald-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-emerald-700 transition-colors shadow-lg">
                Lanjutkan ke Kasus Berikutnya
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 ml-2" viewBox="0 0 20 20" fill="currentColor">
                <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd" />
                </svg>
            </a>
        </section>

        <footer class="text-center mt-16 pt-8 border-t border-slate-200">
            <div class="mb-8">
                <p class="font-bold text-red-600">Disclaimer:</p>
                <p class="text-sm text-slate-600 max-w-2xl mx-auto">Aplikasi ini adalah alat bantu belajar dan tidak menggantikan konsultasi medis profesional. Diagnosis dan penanganan harus dilakukan oleh dokter yang berkualifikasi.</p>
            </div>
            
            <div class="mt-8 pt-8 border-t border-slate-200">
                <div class="flex justify-center items-start space-x-8 mb-4">
                    <a href="https://www.instagram.com/rikki_8523/?utm_source=qr&igsh=MTk3NW55cm12Z3Jybw%3D%3D#" target="_blank" rel="noopener noreferrer" class="flex flex-col items-center text-slate-500 hover:opacity-80 transition-opacity" aria-label="Instagram">
                        <svg class="w-7 h-7" viewBox="0 0 32 32"><defs><radialGradient id="ig-gradient" gradientUnits="userSpaceOnUse" cx="8.982" cy="23.018" r="31.259"><stop offset="0" stop-color="#fdf497"/><stop offset="0.25" stop-color="#fd5949"/><stop offset="0.5" stop-color="#d6249f"/><stop offset="0.75" stop-color="#285AEB"/></radialGradient></defs><path d="M22.9,0H9.1C4.1,0,0,4.1,0,9.1v13.8C0,27.9,4.1,32,9.1,32h13.8c5,0,9.1-4.1,9.1-9.1V9.1C32,4.1,27.9,0,22.9,0z M16,21.8c-3.2,0-5.8-2.6-5.8-5.8s2.6-5.8,5.8-5.8s5.8,2.6,5.8,5.8S19.2,21.8,16,21.8z M23.9,9.4c-1.2,0-2.2-1-2.2-2.2s1-2.2,2.2-2.2s2.2,1,2.2,2.2S25.1,9.4,23.9,9.4z" fill="url(#ig-gradient)"/><path d="M16,11.3c-2.6,0-4.7,2.1-4.7,4.7s2.1,4.7,4.7,4.7s4.7-2.1,4.7-4.7S18.6,11.3,16,11.3z" fill="#fff"/><path d="M23.9,6.2c-0.6,0-1.1,0.5-1.1,1.1c0,0.6,0.5,1.1,1.1,1.1s1.1-0.5,1.1-1.1C25,6.7,24.5,6.2,23.9,6.2z" fill="#fff"/></svg>
                        <span class="text-xs mt-2 font-medium">Instagram</span>
                    </a>
                    <a href="https://youtube.com/@rikkisababalat?si=eYCkz_sgx1hvcfhR" target="_blank" rel="noopener noreferrer" class="flex flex-col items-center text-slate-500 hover:opacity-80 transition-opacity" aria-label="YouTube">
                        <svg class="w-8 h-8" viewBox="0 0 28 20"><path fill="#FF0000" d="M27.4,3.1c-0.4-1.4-1.5-2.5-2.9-2.9C22.6,0,14,0,14,0S5.4,0,3.5,0.3C2.1,0.6,1,1.7,0.6,3.1C0,5.4,0,10,0,10s0,4.6,0.6,6.9c0.4,1.4,1.5,2.5,2.9,2.9C5.4,20,14,20,14,20s8.6,0,10.5-0.3c1.4-0.4,2.5-1.5,2.9-2.9C28,14.6,28,10,28,10S28,5.4,27.4,3.1z"/><path fill="#FFFFFF" d="M11.2,14.3L18.4,10L11.2,5.7V14.3z"/></svg>
                        <span class="text-xs mt-1 font-medium">YouTube</span>
                    </a>
                    <a href="https://www.tiktok.com/" target="_blank" rel="noopener noreferrer" class="flex flex-col items-center text-slate-500 hover:opacity-80 transition-opacity" aria-label="TikTok">
                        <svg class="w-7 h-7" viewBox="0 0 24 24"><defs><filter id="tiktok-shadow"><feDropShadow dx="2" dy="2" stdDeviation="0.5" flood-color="#69C9D0"/><feDropShadow dx="-2" dy="-2" stdDeviation="0.5" flood-color="#EE1D52"/></filter></defs><path fill="#25F4EE" d="M16.6,5.82s.06-.02.18-.04.4-.04.72-.04c.7,0,1.28.1,1.74.32.48.22.84.56,1.1,1,.24.44.36.96.36,1.56,0,.66-.14,1.24-.42,1.74-.28.5-.68.88-1.2,1.12a2.92,2.92,0,0,1-1.76.42c-.44,0-.84-.06-1.2-.18V3.6c-2.34-.66-4.22-2.54-4.22-4.84H2v15.52a3.3,3.3,0,0,0,1.18,2.58c.6.6,1.36.9,2.28.9,1.9,0,3.44-1.54,3.44-3.44V9.52c1.34.38,2.22,1.34,2.22,2.64,0,1.52-1.24,2.76-2.76,2.76-.4,0-.78-.1-1.1-.26-.24-.12-.46-.28-.64-.48z" transform="translate(-2 -2.1)" style="filter:url(#tiktok-shadow)"/><path fill="#010101" d="M16.6,5.82s.06-.02.18-.04.4-.04.72-.04c.7,0,1.28.1,1.74.32.48.22.84.56,1.1,1,.24.44.36.96.36,1.56,0,.66-.14,1.24-.42,1.74-.28.5-.68.88-1.2,1.12a2.92,2.92,0,0,1-1.76.42c-.44,0-.84-.06-1.2-.18v5.52a3.3,3.3,0,0,1-1.18,2.58c-.6.6,1.36.9-2.28.9-1.9,0-3.44-1.54-3.44-3.44S9.66,14.9,11.56,14.9c.34,0,.68.04,1.02.14V9.52c-1.34-.38-2.22-1.34-2.22-2.64,0-1.52,1.24-2.76,2.76-2.76.4,0,.78.1,1.1.26.24.12.46.28.64-.48z" transform="translate(-2 -2.1)"/></svg>
                        <span class="text-xs mt-2 font-medium">TikTok</span>
                    </a>
                </div>
                <p class="text-base font-semibold text-slate-800">dr. Rikki F. Sababalat</p>
                <p class="text-sm text-slate-500 mt-1">Â© 2025</p>
            </div>
        </footer>

    </main>

    <script>
        // Ganti data di bawah ini untuk setiap halaman kasus yang berbeda
        const caseData = {
            diagnoses: [
                { id: 'rhinosinusitis-akut', name: 'Rhinosinusitis Akut', matchScore: 9, vizIconHtml: `<div class="viz-icon bg-red-200"><div class="w-12 h-12 bg-red-400 rounded-full flex items-center justify-center text-3xl">ðŸ¤’</div></div>`, description: 'Peradangan pada mukosa hidung dan sinus paranasal yang berlangsung kurang dari 12 minggu.', analysis: 'SANGAT SESUAI. Tiga gejala utama (hidung tersumbat, sekret mukopurulen, dan nyeri wajah) ada pada pasien. Durasi 2 minggu juga khas untuk bentuk akut yang tidak kunjung sembuh.' },
                { id: 'rhinitis-akut', name: 'Rhinitis Akut', matchScore: 6, vizIconHtml: `<div class="viz-icon bg-blue-100"><div class="w-12 h-12 bg-blue-300 rounded-full flex items-center justify-center text-3xl">ðŸ¤§</div></div>`, description: 'Peradangan pada membran mukosa hidung, biasanya karena infeksi virus (common cold).', analysis: 'CUKUP SESUAI, NAMUN KURANG LENGKAP. Rhinitis akut adalah diagnosis awal, tetapi adanya sekret mukopurulen dan nyeri wajah setelah 2 minggu menunjukkan komplikasi ke sinus, sehingga Rhinosinusitis lebih tepat.' },
                { id: 'rhinitis-alergi', name: 'Rhinitis Alergi', matchScore: 3, vizIconHtml: `<div class="viz-icon bg-yellow-100"><div class="w-12 h-12 bg-yellow-300 rounded-full flex items-center justify-center text-3xl">ðŸŒ¼</div></div>`, description: 'Peradangan hidung yang dimediasi oleh IgE setelah paparan alergen.', analysis: 'KURANG SESUAI. Gejala khas rhinitis alergi seperti gatal-gatal dan bersin tidak disebutkan. Demam dan sekret mukopurulen juga tidak umum pada rhinitis alergi murni.' },
            ],
            quiz: [
                { question: "Berapa lama keluhan pilek yang dialami oleh pasien dalam studi kasus?", options: ["3 hari", "1 minggu", "2 minggu", "1 bulan"], answer: "2 minggu" },
                { question: "Manakah dari temuan berikut yang paling spesifik menunjuk ke arah keterlibatan sinus?", options: ["Demam", "Batuk", "Tenggorok berlendir", "Nyeri ketok pada wajah"], answer: "Nyeri ketok pada wajah" },
                { question: "Adanya sekret mukopurulen (kental dan berwarna) biasanya menandakan...", options: ["Infeksi virus murni", "Reaksi alergi", "Adanya infeksi bakteri sekunder", "Iritasi karena udara kering"], answer: "Adanya infeksi bakteri sekunder" },
                { question: "Mengapa 'Rhinitis Alergi' bukan diagnosis yang tepat untuk kasus ini?", options: ["Karena durasinya terlalu singkat", "Karena tidak ada gejala demam dan sekretnya mukopurulen", "Karena pasien laki-laki", "Karena terjadi pada orang dewasa"], answer: "Karena tidak ada gejala demam dan sekretnya mukopurulen" },
                { question: "Berdasarkan semua gejala dan temuan, diagnosis apakah yang paling akurat?", options: ["Faringitis Akut", "Rhinitis Akut", "Rhinitis Kronik", "Rhinosinusitis Akut"], answer: "Rhinosinusitis Akut" }
            ]
        };

        const { diagnoses, quiz: quizData } = caseData;
        
        // --- SCRIPT UNTUK BAGIAN NON-KUIS ---
        const navContainer = document.getElementById('diagnosis-nav');
        const detailsContainer = document.getElementById('diagnosis-details');
        let chart = null;

        function renderDetails(diagnosisId) {
            const diagnosis = diagnoses.find(d => d.id === diagnosisId);
            if (!diagnosis) return;
            detailsContainer.innerHTML = `
                <div class="bg-white p-6 rounded-xl shadow-lg border border-slate-200 transition-all duration-300 ease-in-out">
                    <div class="flex flex-col md:flex-row items-center gap-6">
                        ${diagnosis.vizIconHtml}
                        <div class="flex-1 text-center md:text-left">
                            <h3 class="text-2xl font-bold text-emerald-800">${diagnosis.name}</h3>
                            <p class="text-slate-600 mt-1">${diagnosis.description}</p>
                        </div>
                    </div>
                    <div class="mt-4 pt-4 border-t border-slate-200">
                        <h4 class="font-semibold text-slate-700">Analisis Kecocokan dengan Kasus:</h4>
                        <p class="text-slate-600 mt-1">${diagnosis.analysis}</p>
                    </div>
                </div>
            `;
            document.querySelectorAll('#diagnosis-nav button').forEach(btn => {
                btn.classList.toggle('nav-button-active', btn.dataset.id === diagnosisId);
                btn.classList.toggle('nav-button-inactive', btn.dataset.id !== diagnosisId);
            });
        }

        function createNav() {
            diagnoses.forEach(diagnosis => {
                const button = document.createElement('button');
                button.textContent = diagnosis.name;
                button.dataset.id = diagnosis.id;
                button.className = 'px-4 py-2 rounded-lg text-sm font-medium transition-colors duration-200 nav-button-inactive';
                button.onclick = () => renderDetails(diagnosis.id);
                navContainer.appendChild(button);
            });
        }

        function createChart() {
            const ctx = document.getElementById('matchChart').getContext('2d');
            const data = {
                labels: diagnoses.map(d => d.name),
                datasets: [{
                    label: 'Tingkat Kecocokan',
                    data: diagnoses.map(d => d.matchScore),
                    backgroundColor: diagnoses.map(d => d.matchScore >= 8 ? '#059669' : (d.matchScore >= 4 ? '#34d399' : '#a7f3d0')),
                    borderColor: diagnoses.map(d => d.matchScore >= 8 ? '#065f46' : (d.matchScore >= 4 ? '#059669' : '#6ee7b7')),
                    borderWidth: 1,
                    borderRadius: 4
                }]
            };
            if(chart) { chart.destroy(); }
            chart = new Chart(ctx, {
                type: 'bar',
                data: data,
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    indexAxis: 'y',
                    scales: {
                        x: { beginAtZero: true, max: 10, title: { display: true, text: 'Skor Kecocokan (0-10)', font: { size: 14 } } },
                        y: { ticks: { font: { size: 12 } } }
                    },
                    plugins: {
                        legend: { display: false },
                        tooltip: { callbacks: { label: (context) => ` Skor: ${context.parsed.x}` } }
                    }
                }
            });
        }

        // --- SCRIPT BARU UNTUK KUIS INTERAKTIF ---

        // Pengaturan Awal
        const timePerQuestion = 45; // Detik per pertanyaan

        // Ambil Elemen dari DOM
        const quizHomeBox = document.getElementById('quiz-home-box');
        const quizBox = document.getElementById('quiz-box');
        const quizOverBox = document.getElementById('quiz-over-box');
        const startQuizBtn = document.getElementById('start-quiz-btn');
        const questionCounter = document.getElementById('question-counter');
        const scoreBoardElement = document.getElementById('correct-answers');
        const remainingTimeElement = document.getElementById('remaining-time');
        const questionTextElement = document.getElementById('question-text');
        const optionsContainer = document.getElementById('options-container');
        const timeUpText = document.getElementById('time-up-text');
        const nextQuestionBtn = document.getElementById('next-question-btn');
        const seeResultBtn = document.getElementById('see-result-btn');
        const startAgainBtn = document.getElementById('start-again-btn');
        const goHomeBtn = document.getElementById('go-home-btn');

        // Variabel Status Kuis
        let currentQuestionIndex = 0;
        let score = 0;
        let attempt = 0;
        let questionOrder = []; // Untuk urutan soal yang acak
        let interval;

        function resetQuizState() {
            currentQuestionIndex = 0;
            score = 0;
            attempt = 0;
            questionOrder = [...Array(quizData.length).keys()].sort(() => Math.random() - 0.5); // Acak urutan soal
        }

        function loadQuestion() {
            const questionIndex = questionOrder[currentQuestionIndex];
            const currentQuestion = quizData[questionIndex];

            // Set teks pertanyaan dan nomor
            questionTextElement.textContent = currentQuestion.question;
            questionCounter.textContent = `Pertanyaan ${currentQuestionIndex + 1} dari ${quizData.length}`;
            optionsContainer.innerHTML = '';

            // Buat tombol opsi
            currentQuestion.options.forEach(optionText => {
                const button = document.createElement('button');
                button.textContent = optionText;
                button.className = 'option-btn w-full text-left p-4 border-2 border-slate-200 rounded-lg text-slate-700 font-medium';
                button.onclick = () => checkAnswer(button, optionText, currentQuestion.answer);
                optionsContainer.appendChild(button);
            });
            
            startTimer();
        }
        
        function checkAnswer(selectedButton, selectedText, correctAnswerText) {
            stopTimer();
            attempt++;
            disableOptions();

            if (selectedText === correctAnswerText) {
                selectedButton.classList.add('correct');
                score++;
                scoreBoardElement.textContent = score;
            } else {
                selectedButton.classList.add('incorrect');
                // Tampilkan jawaban yang benar
                Array.from(optionsContainer.children).forEach(btn => {
                    if (btn.textContent === correctAnswerText) {
                        btn.classList.add('correct');
                    }
                });
            }

            // Tampilkan tombol selanjutnya atau tombol hasil
            if (currentQuestionIndex < quizData.length - 1) {
                nextQuestionBtn.classList.remove('hidden');
            } else {
                seeResultBtn.classList.remove('hidden');
            }
        }

        function startTimer() {
            let timeLimit = timePerQuestion;
            remainingTimeElement.textContent = timeLimit;
            remainingTimeElement.classList.remove('less-time');
            timeUpText.classList.add('hidden');
            
            interval = setInterval(() => {
                timeLimit--;
                if (timeLimit < 10) remainingTimeElement.classList.add('less-time');
                remainingTimeElement.textContent = timeLimit;

                if (timeLimit <= 0) {
                    timeIsUp();
                }
            }, 1000);
        }

        function timeIsUp() {
            stopTimer();
            timeUpText.classList.remove('hidden');
            disableOptions();
            
            const correctAnswerText = quizData[questionOrder[currentQuestionIndex]].answer;
             Array.from(optionsContainer.children).forEach(btn => {
                if (btn.textContent === correctAnswerText) {
                    btn.classList.add('correct');
                }
            });

            if (currentQuestionIndex < quizData.length - 1) {
                nextQuestionBtn.classList.remove('hidden');
            } else {
                seeResultBtn.classList.remove('hidden');
            }
        }

        function stopTimer() {
            clearInterval(interval);
        }

        function disableOptions() {
            Array.from(optionsContainer.children).forEach(button => {
                button.disabled = true;
            });
        }
        
        function showNextQuestion() {
            currentQuestionIndex++;
            nextQuestionBtn.classList.add('hidden');
            loadQuestion();
        }
        
        function showResults() {
            quizBox.classList.add('hidden');
            quizOverBox.classList.remove('hidden');
            
            document.getElementById('total-questions').textContent = quizData.length;
            document.getElementById('total-attempt').textContent = attempt;
            document.getElementById('total-correct').textContent = score;
            document.getElementById('total-wrong').textContent = attempt - score;
            const percentage = quizData.length > 0 ? ((score / quizData.length) * 100).toFixed(1) : 0;
            document.getElementById('percentage').textContent = `${percentage}%`;
        }

        // Event Listeners
        startQuizBtn.addEventListener('click', () => {
            quizHomeBox.classList.add('hidden');
            quizBox.classList.remove('hidden');
            resetQuizState();
            loadQuestion();
        });

        nextQuestionBtn.addEventListener('click', showNextQuestion);
        seeResultBtn.addEventListener('click', showResults);
        
        startAgainBtn.addEventListener('click', () => {
            quizOverBox.classList.add('hidden');
            quizBox.classList.remove('hidden');
            seeResultBtn.classList.add('hidden');
            nextQuestionBtn.classList.add('hidden');
            scoreBoardElement.textContent = 0;
            resetQuizState();
            loadQuestion();
        });

        goHomeBtn.addEventListener('click', () => {
             quizOverBox.classList.add('hidden');
             quizHomeBox.classList.remove('hidden');
             scoreBoardElement.textContent = 0;
        });
        
        // Inisialisasi Halaman
        window.onload = () => {
            // Inisialisasi bagian non-kuis
            createNav();
            const navButtons = document.querySelectorAll('#diagnosis-nav button');
            if (navButtons.length > 0) {
                 navButtons.forEach(btn => btn.classList.add('nav-button-inactive'));
            }
            createChart();

            // Inisialisasi bagian kuis
            document.getElementById('time-limit-text').textContent = `Anda akan memiliki ${timePerQuestion} detik untuk menjawab setiap pertanyaan. Uji pemahaman Anda tentang kasus yang disajikan.`;
        };
    </script>
</body>
</html>
```